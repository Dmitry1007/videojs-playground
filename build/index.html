<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>VideoJS Playground</title>

    <link href="//vjs.zencdn.net/5.9.2/video-js.min.css" rel="stylesheet">
    <link href="css/videojs.record.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <script src="//vjs.zencdn.net/5.9.2/video.min.js"></script>
    <script src="//cdn.webrtc-experiment.com/RecordRTC.js"></script>
    <script src="videojs.record.js"></script>
  </head>
  <body>
    <div id="app">
    </div>

    <video id="myVideo" class="video-js vjs-default-skin"></video>

    <script>
    var player = videojs("myVideo",
    {
        controls: true,
        width: 320,
        height: 240,
        controlBar: {
            volumeMenuButton: false
        },
        plugins: {
            record: {
                audio: false,
                video: true,
                maxLength: 5,
                debug: true
            }
        }
    });

    // error handling
    player.on('deviceError', function()
    {
        console.warn('device error:', player.deviceErrorCode);
    });
    player.on('error', function(error)
    {
        console.log('error:', error);
    });

    // user clicked the record button and started recording
    player.on('startRecord', function()
    {
        console.log('started recording!');
    });

    // user completed recording and stream is available
    player.on('finishRecord', function()
    {
        // the blob object contains the recorded data that
        // can be downloaded by the user, stored on server etc.
        console.log('finished recording: ', player.recordedData);
    });
    </script>

    <script src="./bundle.js"></script>
  </body>
</html>
